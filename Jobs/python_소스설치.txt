### íŒŒì´ì¬ 3.11 ì†ŒìŠ¤ì„¤ì¹˜


ğŸ§© 1ë‹¨ê³„: ì‚¬ì „ íŒ¨í‚¤ì§€ ì„¤ì¹˜
# Rocky / CentOS / RHEL ê³„ì—´
dnf install -y tar gzip bzip2 unzip wget curl vim net-tools bind-utils lsof iproute iputils procps-ng util-linux which sudo less
dnf install -y rsync tree htop ncdu jq

sudo dnf groupinstall "Development Tools" -y
sudo dnf config-manager --set-enabled crb	(ë¡œí‚¤10)
sudo dnf install -y openssl-devel bzip2-devel libffi-devel \
                   zlib-devel readline-devel sqlite-devel \
                   xz-devel tk-devel gdbm-devel ncurses-devel \
                   uuid-devel wget

ğŸ§© 2ë‹¨ê³„: Python ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ ë° ì••ì¶• í•´ì œ
cd /usr/local/src
wget https://www.python.org/ftp/python/3.11.9/Python-3.11.9.tgz
tar -xvf Python-3.11.9.tgz
cd Python-3.11.9

ğŸ§© 3ë‹¨ê³„: configure ì„¤ì •
./configure --prefix=/usr/local/python3.11 \
            --enable-optimizations \
            --enable-shared \
            LDFLAGS="-Wl,-rpath /usr/local/python3.11/lib"
ì˜µì…˜ ì„¤ëª…:
--enable-optimizations: ë¹Œë“œ ì‹œ ìµœì í™” (ì†ë„ í–¥ìƒ, ë¹Œë“œ ì‹œê°„ â†‘)
--enable-shared: libpython3.11.so ìƒì„± (ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì—ì„œ ì°¸ì¡° ê°€ëŠ¥)
--prefix: ì„¤ì¹˜ ê²½ë¡œ ì§€ì •
LDFLAGS: ëŸ°íƒ€ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ë¡œ ë“±ë¡ (LD_LIBRARY_PATH ë¶ˆí•„ìš”í•˜ê²Œ)			

ğŸ§© 4ë‹¨ê³„: ì»´íŒŒì¼ ë° ì„¤ì¹˜
make -j$(nproc)
sudo make altinstall

* altinstallì„ ì‚¬ìš©í•˜ë©´ /usr/bin/python ê¸°ë³¸ ë²„ì „ì„ ë®ì–´ì“°ì§€ ì•ŠìŠµë‹ˆë‹¤.

ğŸ§© 5ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ë“±ë¡
sudo ln -s /usr/local/python3.11/bin/python3.11 /usr/bin/python3.11
sudo ln -s /usr/local/python3.11/bin/pip3.11 /usr/bin/pip3.11

echo 'export PATH=/usr/local/python3.11/bin:$PATH' | sudo tee /etc/profile.d/python3.11.sh
source /etc/profile.d/python3.11.sh

ğŸ§© 6ë‹¨ê³„: ì„¤ì¹˜ í™•ì¸
python3.11 -V
# Python 3.11.9

pip3.11 -V
# pip 23.x from ...


####ê°€ìƒí™˜ê²½ ë³µì‚¬
ğŸ”¹ 1ë‹¨ê³„: Python 3.11.9 ì„¤ì¹˜ (ë™ì¼ ìœ„ì¹˜)

ì´ë¯¸ ì„¤ì¹˜ëœ ì„œë²„ì—ì„œ Python ì„¤ì •ì„ í™•ì¸í•©ë‹ˆë‹¤.
/usr/local/python3.11/bin/python3.11 -V
# Python 3.11.9

/usr/local/python3.11/bin/python3.11 -m sysconfig | grep prefix

ë™ì¼ prefixì—¬ì•¼í•œë‹¤.

ğŸ”¹ 2ë‹¨ê³„: ê°€ìƒí™˜ê²½ ë³µì‚¬
rsync -avz /home/py_env/chatbot_env root@<ìƒˆì„œë²„IP>:/home/py_env/

ğŸ”¹ 3ë‹¨ê³„: ê²½ë¡œ ìˆ˜ì • (activate ìŠ¤í¬ë¦½íŠ¸)
ê°€ìƒí™˜ê²½ ë‚´ë¶€ì—ëŠ” Python ê²½ë¡œê°€ ì ˆëŒ€ê²½ë¡œë¡œ ê¸°ë¡ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
'''
í™•ì¸ ëª…ë ¹:
head -n 1 /home/py_env/chatbot_env/bin/activate
ì˜ˆì‹œ ì¶œë ¥:
VIRTUAL_ENV="/home/py_env/chatbot_env"
'''

ë§Œì•½ ê²½ë¡œë‚˜ Python ìœ„ì¹˜ê°€ ë‹¤ë¥´ë‹¤ë©´ ìˆ˜ì •í•©ë‹ˆë‹¤.
bin/activate, pyvenv.cfg ë‘ ê³³ë§Œ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤ ğŸ‘‡
# vi /home/py_env/chatbot_env/pyvenv.cfg
home = /usr/local/python3.11/bin
include-system-site-packages = false
version = 3.11.9

ğŸ”¹ 4ë‹¨ê³„: í…ŒìŠ¤íŠ¸
source /home/py_env/chatbot_env/bin/activate
which python
# /home/py_env/chatbot_env/bin/python

python -V
# Python 3.11.9
pip list | head



----------uvë¡œ í•˜ëŠ”ë²•
